#!/usr/bin/bash
for arg; do
    [[ $arg =~ ([1-9][0-9]*)|([a-z]+) ]] || continue
    pid=${BASH_REMATCH[1]:-${pid:-1}}
    property=${BASH_REMATCH[2]:-$property} # TODO
    [[ $pid ]] || continue
    read -r ppid < <(command sed -E 's/(ppid:.(.*))?(.*)/\2/gI;/^$/d' /proc/$pid/status)
    read -r path < <(readlink /proc/$ppid/exe)
    [[ $path =~ ([^/]+)[-_]([0-9\.]+) ]]
    version=${BASH_REMATCH[2]}
    basename=${BASH_REMATCH[1]}
    base=${path##*/}

    echo -en $ppid ${basename:-} ${version:-} ${base:-} ${path:-}
done
