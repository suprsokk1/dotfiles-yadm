{#-*- mode: jinja2 -*-#}
{#- dest: .local/share/yadm/config -#}
{%- macro j2set(key, value) -%}
{%- set kind = value.__class__.__name__ -%}
{%- set wrap = dict(str='''"''').get(kind, '') -%}
{%- set prefix = "{%-" -%}
{%- set suffix = "-%}\n" -%}
{%- set spacing = " " -%}
{%- set separator = spacing + "=" + spacing -%}
{{- prefix -}}
{{- spacing -}}
{{- key -}}
{{- separator -}}
{{- wrap -}}
{{- value -}}
{{- wrap -}}
{{- spacing -}}
{{- suffix -}}
{%- endmacro -%}
[foo]
	bar = baz
