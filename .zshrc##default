# .zshrc -*- mode: sh -*-
source ~/.functions
source ~/.aliases

FZF_DEFAULT_OPTS="--layout=reverse --height=7"
FZF_DEFAULT_COMMAND=$HOME/bin/,

ZSH=~/.oh-my-zsh
ZSH_THEME="af-magic"

# plugins-=(pipenv)
plugins+=(zsh-autosuggestions)
plugins+=(git)
plugins+=(direnv)
plugins+=(fzf)

if command -v incrontab &>/dev/null
then `# incrontab` <<'INCRONTAB'
# ${HOME} IN_CREATE,recursive=false /usr/bin/env , $#2
INCRONTAB
fi

if ! test -d ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
then git clone https://github.com/zsh-users/zsh-autosuggestions $_
fi

# activate oh-my-zsh
. $ZSH/oh-my-zsh.sh

# zstyle
# syntax:
# $ zstyle :completion:<function>:<completer>:<command>:<argument>:<tag>

zstyle ':completion:*' use-cache on
zstyle ':completion:*' squeeze-slashes true
zstyle ':completion:*' cache-path "$XDG_CACHE_HOME/zsh/.zcompcache"

zstyle ':completion:*:*:foo:*' file-sort size
zstyle ':completion:*:*:fzf:*' file-sort size

if [[ $(readlink /proc/$PPID/exe) =~ tmux$ ]] && ! [[ $TMUX_PANE ]]; then
tmux source-file ~/.config/tmux/tmux.conf
__tmux_menu
fi

setterm --linewrap off
